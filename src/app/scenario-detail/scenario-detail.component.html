<div>
  <div class="breadcrumb-search">
    <ol class="breadcrumb" *ngIf="scenario">
      <li class="breadcrumb-item"><a [routerLink]="'/'">Projects</a></li>
      <li class="breadcrumb-item"><a [routerLink]="['/project', scenario.projectId]">{{scenario.projectId}}. {{scenario.projectName}}</a></li>
      <li class="breadcrumb-item" *ngIf="scenario.scenarioGroup">
        <a [routerLink]="['/project', scenario.projectId]" [queryParams]="{scenarioGroupId: scenario.scenarioGroup.id}">{{scenario.scenarioGroup.name}}</a>
      </li>
      <li class="breadcrumb-item active">{{scenario.id}}. {{scenario.name}}</li>
    </ol>
    <app-search [projectId]="scenario.projectId"></app-search>
  </div>

  <div *ngIf="scenario">
    <div style="margin-bottom: 10px;">
      <h3>{{scenario.name}}</h3>
      <a [routerLink]="['/scenario/' + scenario.id + '/settings']">Settings</a>
    </div>
    <app-scenario-list-item [scenario]="scenario"></app-scenario-list-item>
  </div>
  <hr/>
  <div class="help-block" *ngIf="!stepList">
    <span class="glyphicon glyphicon-time"></span>
    Loading...
  </div>
  <div *ngIf="scenario && stepList">
    <div class="container-fluid" style="margin-bottom: 20px;">
      <button class="btn btn-success" (click)="saveSteps()">Save steps</button>
    </div>

    <div *ngFor="let step of stepList">
      <div style="margin-bottom: 15px;" class="col-sm-offset-11 col-sm-1 text-right">
        <button style="white-space: normal;" class="btn btn-xs btn-block btn-default" (click)="addStepBefore(step)"><span class="glyphicon glyphicon-hand-left"></span> Insert step</button>
      </div>
      <app-step-item
        [step]="step"
        [showUpDownDeleteCloneButtons]="true"
        (onDeleteClick)="onDeleteClick(step)"
        (onUpClick)="onUpClick(step)"
        (onDownClick)="onDownClick(step)"
        (onCloneClick)="onCloneClick(step)"
      ></app-step-item>
    </div>

    <div class="container-fluid" style="margin-bottom: 20px;">
      <button class="btn btn-default" (click)="addStep()"><span class="glyphicon glyphicon-plus"></span> Add step</button>
    </div>
    <div class="container-fluid" style="margin-bottom: 20px;">
      <button class="btn btn-success" (click)="saveSteps()">Save steps</button>
    </div>
  </div>
</div>
