<div *ngIf="scenario">
  <div class="form-horizontal">
    <div class="form-group">
      <div class="col-sm-5"><label>{{scenario.name}}</label></div>
      <div class="col-sm-3">{{scenario.lastRunAt | date: 'y-MM-dd HH:mm'}}</div>
      <div class="col-sm-2">
        <div style="color: red" *ngIf="scenario.lastRunFailures > 0">{{scenario.lastRunFailures}}</div>
        <div style="" *ngIf="scenario.lastRunFailures == 0">{{scenario.lastRunFailures}}</div>
      </div>
      <div class="col-sm-1">
        <button class="btn btn-primary" *ngIf="state != 'executing'" (click)="runScenario()">Run</button>
        <button class="btn btn-warning" *ngIf="state == 'executing'" disabled>Executing...</button>
      </div>
      <div class="col-sm-1">
        <a [routerLink]="['/scenario', scenario.id]">Edit</a>
      </div>
    </div>
    <div class="form-group" *ngFor="let stepResult of stepResultList">
      <div class="col-sm-1">
        {{stepResult.result}}
      </div>
      <div class="col-sm-6">
        {{stepResult.step.requestMethod}}
        {{stepResult.step.relativeUrl}}
      </div>
      <div class="col-sm-12" style="color: gray;">
        {{stepResult | json}}
      </div>
    </div>
  </div>
</div>
